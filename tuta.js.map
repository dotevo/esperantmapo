{"version":3,"sources":["leaflet-ujo.js","leaflet-reklamujo.js","tradukilo.js","ui.js","overpass/vico.js","overpass/overpass.js","ĉefa.js"],"names":["Ujo","L","Control","extend","options","position","setText","html","controlDiv","innerHTML","onAdd","mapo","DomUtil","create","reklamteksto","Reklamujo","reklamo","setPosition","addControl","reŝargi","intervalo","setInterval","bind","$","on","fermi","clearInterval","removeControl","i18next","use","i18nextXHRBackend","escapeHtml","objekto","replace","undefined","JSON","stringify","traduki","teksto","opcioj","datumoj","Tradukilo","ĉi","get","lingvoj","linio","split","n","length","x","init","debug","lng","ns","defaultNS","fallbackLng","saveMissing","backend","loadPath","addPath","i18nextPretas","language","tradukiLeaflet","tradukiPaĝon","jqueryI18next","document","trigger","each","index","attr","t","parse","console","log","lingvo","changeLanguage","err","tradukilo","mobile","ajaxEnabled","hashListeningEnabled","pushStateEnabled","SkaliEnhavon","window","invalidateSize","scroll","enhavo","getScreenHeight","outerHeight","height","evento","select","opt","append","akiriLingvon","selected","find","selectmenu","value","ŝanĝiLingvon","OverpassVico","url","surŜarga","surKompletigita","overpassInformpetoj","overpassHalto","informpeto","pop","ajax","crossDomain","dataType","data","always","a","b","komenciInformpeton","revoko","push","LatLngBounds","prototype","limigaKesto","_southWest","_northEast","Math","round","lat","join","OverpassFetcher","LayerGroup","dosiero","krei","initialize","Util","setOptions","_nodes","analizi","responseJSON","elements","key","el","overpassFetcher","layers","map","setView","osmUrl","osm","TileLayer","maxZoom","opacity","attribution","addLayer","landoj","featureGroup","addTo","landojF","myIcon","divIcon","iconAnchor","iconSize","tags","marker","lon","icon","provincoj","provincojF","whenReady","getZoom","hasLayer","removeLayer"],"mappings":"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","file":"tuta.js","sourcesContent":["var Ujo =  L.Control.extend({options: {position: 'bottomleft'},\n\tsetText: function(html) {\n\t\tthis.controlDiv.innerHTML = html\n\t},\n\tonAdd: function (mapo) {\n\t\tthis.controlDiv = L.DomUtil.create('div', 'leaflet-control-fenestro leaflet-control-mesaĝo')\n\t\treturn this.controlDiv\n\t}\n})\n","/**\n * @requires ./leaflet-ujo.js\n */\nconst reklamteksto = '<a class=\"reklamujo-fermbutono\">X</a><br/><iframe scrolling=\"no\" ' +\n\t'style=\"border: 0; width: 120px; height: 240px;\" ' +\n\t'src=\"https://coinurl.com/get.php?id=59251&search=esperanto,language\"></iframe><br/>' +\n\t'<a class=\"reklamujo-fermbutono\">X</a>'\n\nclass Reklamujo {\n\tconstructor(mapo) {\n\t\tthis.mapo = mapo\n\t\tthis.reklamo = new Ujo()\n\t\tthis.reklamo.setPosition('bottomright')\n\t\tmapo.addControl(this.reklamo)\n\t\tthis.reŝargi()\n\t\tthis.intervalo = setInterval(this.reŝargi.bind(this), 1000 * 60 * 15)\n\t}\n\n\treŝargi() {\n\t\tthis.reklamo.setText(reklamteksto)\n\t\t$('.reklamujo-fermbutono').on('click', this.fermi.bind(this))\n\t}\n\n\tfermi() {\n\t\tclearInterval(this.intervalo);\n\t\tthis.mapo.removeControl(this.reklamo)\n\t}\n}\n","i18next.use(i18nextXHRBackend)\n\nfunction escapeHtml(objekto) {\n\tif (objekto.replace === undefined) {\n\t\tobjekto = JSON.stringify(objekto)\n\t}\n\treturn objekto\n\t\t.replace(/&/g, '&amp;')\n\t\t.replace(/</g, '&lt;')\n\t\t.replace(/>/g, '&gt;')\n\t\t.replace(/\"/g, '&quot;')\n\t\t.replace(/'/g, '&#039;')\n}\n\nfunction traduki(teksto, opcioj) {\n\tlet datumoj = ''\n\tif (opcioj !== undefined) {\n\t\tdatumoj = ' data-i18n-opcioj=\"' + escapeHtml(opcioj) + '\"'\n\t}\n\treturn '<span data-i18n=\"' + teksto + '\" ' + datumoj + '>' + '</span>'\n}\n\nclass Tradukilo {\n\tconstructor() {\n\t\tlet ĉi = this\n\t\t$.get('internaciigo/lingvoj.txt', function(datumoj) {\n\t\t\tlet lingvoj = {}\n\t\t\tlet linio = datumoj.split(/\\n/)\n\t\t\tfor (var n = 0 ; n < linio.length ; ++n) {\n\t\t\t\tif (linio[n].length > 0) {\n\t\t\t\t\tlet x = linio[n].split(':')\n\t\t\t\t\tlingvoj[x[0]] = x[1]\n\t\t\t\t}\n\t\t\t}\n\t\t\tĉi.lingvoj = lingvoj\n\n\t\t\t//I18NEXT\n\t\t\ti18next.init({\n\t\t\t\tdebug: true,\n\t\t\t\tlng: 'eo',\n\t\t\t\tns: ['traduko', 'leaflet'],\n\t\t\t\tdefaultNS: 'traduko',\n\t\t\t\tfallbackLng: 'eo',\n\t\t\t\tsaveMissing: true,\n\t\t\t\tbackend: {\n\t\t\t\t\tloadPath: 'internaciigo/{{lng}}/{{ns}}.json',\n\t\t\t\t\taddPath: 'internaciigo/{{lng}}/{{ns}}.json'\n\t\t\t\t}\n\t\t\t}, ĉi.i18nextPretas.bind(ĉi))\n\t\t})\n\t}\n\n\takiriLingvon() {\n\t\treturn i18next.language\n\t}\n\n\ti18nextPretas() {\n\t\tlet ĉi = this\n\t\tthis.tradukiLeaflet()\n\t\tthis.tradukiPaĝon()\n\t\ti18next.on('languageChanged', function(lng) {\n\t\t})\n\t\tjqueryI18next.init(i18next, $)\n\t\t$(document).trigger('i18nextPretas', ĉi.lingvoj)\n\t}\n\n\ttradukiLeaflet() {\n\t\t$('#mapo [title]').each(function(index) {\n\t\t\t$(this).attr('title', i18next.t($(this).attr('aria-label'), {ns: 'leaflet'}))\n\t\t})\n\t}\n\n\ttradukiPaĝon() {\n\t\t$('[data-i18n]').each(function(index) {\n\t\t\tlet teksto = $(this).attr('data-i18n-opcioj')\n\n\t\t\tlet opcioj = ''\n\t\t\tif (teksto !== undefined) {\n\t\t\t\topcioj = JSON.parse(teksto)\n\t\t\t}\n\t\t\tconsole.log(opcioj)\n\t\t\t$(this).html(i18next.t($(this).attr('data-i18n'), opcioj))\n\t\t})\n\t}\n\n\tŝanĝiLingvon(lingvo) {\n\t\tconst ĉi = this\n\t\ti18next.changeLanguage(lingvo, (err, t) => {\n\t\t\tĉi.tradukiLeaflet()\n\t\t\tĉi.tradukiPaĝon()\n\t\t})\n\t}\n}\n\nconst tradukilo = new Tradukilo()\n","/**\n * @requires ./tradukilo.js\n */\n\n$(document).bind('mobileinit', function() {\n\t$.mobile.ajaxEnabled = false\n\t$.mobile.hashListeningEnabled = false\n\t$.mobile.pushStateEnabled = false\n})\n\n$(document).on('pagecontainershow', function() {\n\tSkaliEnhavon()\n\t$(window).on('resize orientationchange', function() {\n\t\tSkaliEnhavon()\n\t})\n\tmapo.invalidateSize();\n})\n\nfunction SkaliEnhavon() {\n\tscroll(0, 0);\n\tvar enhavo = $.mobile.getScreenHeight() - $('.ui-paĝokapo').outerHeight() -\n\t\t$('.ui-paĝopiedo').outerHeight() - $('.ui-enhavo').outerHeight() +\n\t\t$('.ui-enhavo').height()\n\t$('.ui-enhavo').height(enhavo)\n}\n\n$(document).on('i18nextPretas', function(evento, lingvoj) {\n\tvar select = $('#lingvoj')\n\tfor (const lingvo in lingvoj) {\n\t\tconst opt = '<option class=\"lingvo\" id=\"' + lingvo +\n\t\t\t'\" value=\"' + lingvo + '\">' + lingvoj[lingvo] + '</option>'\n\t\tselect.append(opt)\n\t}\n\tconsole.log(tradukilo.akiriLingvon())\n\tvar selected = select.find('#' + tradukilo.akiriLingvon())\n\tselected.attr('selected', 'selected')\n\tselect.selectmenu();\n\tselect.selectmenu('refresh', true);\n\tselect.on('change', function () {\n\t\tvar lingvo = this.value;\n\t\ttradukilo.ŝanĝiLingvon(lingvo)\n\t})\n})\n","class OverpassVico {\n\topcioj = {\n\t\turl: 'http://overpass-api.de/api/interpreter?data=',\n\t\tsurŜarga: function() {\n\t\t\tconsole.log('Ŝarga')\n\t\t},\n\t\tsurKompletigita: function() {\n\t\t\tconsole.log('Kompletigita')\n\t\t}\n\t}\n\n\tconstructor(opcioj) {\n\t\t$.extend(this.opcioj, opcioj)\n\t\tthis.overpassInformpetoj = []\n\t\tthis.overpassHalto = true\n\t}\n\n\tkomenciInformpeton() {\n\t\tthis.overpassHalto = false\n\t\tvar informpeto = this.overpassInformpetoj.pop()\n\t\tconsole.log(informpeto.url)\n\t\tvar ĉi = this\n\t\t$.ajax({\n\t\t\turl: this.opcioj.url + informpeto.url,\n\t\t\tcrossDomain: true,\n\t\t\tdataType: 'json',\n\t\t\tdata: {}\n\t\t}).always(function(a, b) {\n\t\t\tif (ĉi.overpassInformpetoj.length > 0) {\n\t\t\t\tĉi.komenciInformpeton()\n\t\t\t} else {\n\t\t\t\tĉi.overpassHalto = true\n\t\t\t\tĉi.opcioj.surKompletigita()\n\t\t\t}\n\t\t\tinformpeto.revoko(a)\n\t\t})\n\t}\n\n\telŝutiElOverpass(url, revoko) {\n\t\tthis.overpassInformpetoj.push({'url': url, 'revoko': revoko})\n\t\tif (this.overpassInformpetoj.length == 1 && this.overpassHalto == true) {\n\t\t\tthis.opcioj.surŜarga()\n\t\t\tthis.komenciInformpeton()\n\t\t}\n\t}\n}\n\n//let overpassVico = new OverpassVico({})\n\n//var url = '[out:json];node[\"name:eo\"][\"admin_level\"=\"2\"];out center;'\n//overpassVico.elŝutiElOverpass(escape(url), function(a, b) {\n//\tconsole.log(a)\n//})\n","L.LatLngBounds.prototype.limigaKesto = function () {\n\tvar a = this._southWest,\n\t\tb = this._northEast;\n\treturn [Math.round(a.lat * 1000) / 1000 + 0.0001,\n\t\tMath.round(a.lng * 1000) / 1000 + 0.0001,\n\t\tMath.round(b.lat * 1000) / 1000 - 0.0001,\n\t\tMath.round(b.lng * 1000) / 1000 - 0.0001].join(',');\n};\n\n/**\n * @requires ./vico.js\n */\n\nL.OverpassFetcher = L.LayerGroup.extend({\n\toptions: {\n\t\tdosiero: \"datumo.json\",\n\t\tkrei: function(){}\n\t},\n\tinitialize: function (options) {\n\t\tL.Util.setOptions(this, options)\n\t\tlet ĉi = this\n\t\tthis._nodes = {}\n\n\t\tconsole.log(this.options.dosiero)\n\t\t$.ajax({\n\t\t\turl: this.options.dosiero,\n\t\t\tcrossDomain: true,\n\t\t\tdataType: 'json'\n\t\t}).always(function(a, b) {\n\t\t\tĉi.analizi(a.responseJSON)\n\t\t})\n\t},\n\tanalizi: function(data) {\n\t\tconsole.log(\"analizi\")\n\t\tif(data.elements === undefined){\n\t\t\tconsole.log(data);return;\n\t\t}\n\n\t\tfor (var key in data.elements) {\n\t\t\tlet el = data.elements[key]\n\t\t\tthis.options.krei(el)\n\t\t}\n\t}\n})\n\nL.overpassFetcher = function (layers) {\n\treturn new L.OverpassFetcher(layers)\n}\n","let mapo;\n\n/**\n * @requires ./tradukilo.js\n * @requires ./ui.js\n * @requires ./leaflet-reklamujo.js\n * @requires ./overpass/overpass.js\n */\n\n$(document).bind('pageinit', function() {\n\tmapo = L.map('mapo').setView([51.505, -0.09], 13)\n\tconst osmUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n\tconst teksto = traduki('Datumoj de la mapo {{link}} kontribuantoj',\n\t\t{\n\t\t\t'link' : '<a href=\"http://openstreetmap.org\">OpenStreetMap</a>',\n\t\t\t'interpolation': {'escapeValue': false}\n\t\t})\n\tconst osm = new L.TileLayer(osmUrl, {maxZoom: 19, opacity: 0.5, attribution: teksto})\n\tmapo.addLayer(osm)\n\tnew Reklamujo(mapo)\n\n\tconst landoj = L.featureGroup().addTo(mapo)\n\tconst landojF = new L.OverpassFetcher({\n\t\tdosiero: 'landoj.json',\n\t\tkrei: function(objekto) {\n\t\t\tvar myIcon = L.divIcon({iconAnchor:[0,0], iconSize: [0,0], html: objekto.tags[\"name:eo\"]})\n\t\t\tL.marker([objekto.lat, objekto.lon], {icon: myIcon}).addTo(landoj)\n\t\t}\n\t})\n\n\tconst provincoj = L.featureGroup().addTo(mapo)\n\tconst provincojF = new L.OverpassFetcher({\n\t\tdosiero: 'provincoj.json',\n\t\tkrei: function(objekto) {\n\t\t\tvar myIcon = L.divIcon({iconAnchor:[0,0], iconSize: [0,0], html: objekto.tags[\"name:eo\"]})\n\t\t\tL.marker([objekto.lat, objekto.lon], {icon: myIcon}).addTo(provincoj)\n\t\t}\n\t})\n\n\tmapo.whenReady(function() {\n\t\t//\n\t})\n\n\tmapo.on('zoomend', function(){\n\t\tif(mapo.getZoom() < 6) {\n\t\t\tif(!mapo.hasLayer(landoj)) {\n\t\t\t\tmapo.addLayer(landoj)\n\t\t\t}\n\t\t} else {\n\t\t\tmapo.removeLayer(landoj);\n\t\t}\n\n\t\tif(mapo.getZoom() > 5) {\n\t\t\tif(!mapo.hasLayer(provincoj)) {\n\t\t\t\tmapo.addLayer(provincoj)\n\t\t\t}\n\t\t} else {\n\t\t\tmapo.removeLayer(provincoj);\n\t\t}\n\t})\n})\n"]}